<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async/defer</title>
  </head>
  <body>
    <script async src="js/script.js"></script>
    <h2>Defer</h2>
    <p>
      Атрибут defer сообщает браузеру, что он должен продолжать обрабатывать
      страницу и загружать скрипт в фоновом режиме, а затем запустить этот
      скрипт, когда DOM дерево будет полностью построено.
    </p>
    <ul>
      <li>Скрипты с defer никогда не блокируют страницу.</li>
      <li>
        Скрипты с defer всегда выполняются, когда дерево DOM готово, но до
        события DOMContentLoaded.
      </li>
    </ul>

    <h2>Async</h2>
    <p>Атрибут async означает, что скрипт абсолютно независим:</p>
    <ul>
      <li>
        Страница не ждёт асинхронных скриптов, содержимое обрабатывается и
        отображается.
      </li>
      <li>
        Событие DOMContentLoaded и асинхронные скрипты не ждут друг друга:
        <ul>
          <li>
            DOMContentLoaded может произойти как до асинхронного скрипта (если
            асинхронный скрипт завершит загрузку после того, как страница будет
            готова),
          </li>
          <li>
            …так и после асинхронного скрипта (если он короткий или уже
            содержится в HTTP-кеше)
          </li>
        </ul>
      </li>
      <li>
        Остальные скрипты не ждут async, и скрипты casync не ждут другие
        скрипты.
      </li>
    </ul>
    <h2>Динамически загружаемые скрипты</h2>
    <p>
      Динамически загружаемые скрипты ведут себя как async скрипты. Можно
      отключить асинхронную загрузку скриптов обратившись к параметру async =
      false
    </p>
  </body>
</html>
